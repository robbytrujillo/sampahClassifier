<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Pemilah Sampah</title>

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/x-icon"
      href="assets/images/sampah-daurulang.png"
    />

    <link rel="stylesheet" href="style.css" />

    <!-- Fontawesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-..."
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- TensorFlow & Teachable Machine -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
  </head>

  <body>
    <div class="app">
      <h1>‚ôªÔ∏èSampah Classifier</h1>
      <p class="subtitle">Deteksi Sampah dengan AI</p>

      <!-- MODE UPLOAD -->
      <div id="uploadMode">
        <!-- <input type="file" id="imageInput" accept="image/*" /> -->

        <div class="upload-wrapper">
          <button id="uploadBtn" class="upload-btn">
            <i class="fas fa-upload"></i>
            Upload Gambar Sampah
          </button>
          <input type="file" id="imageInput" accept="image/*" hidden />
        </div>

        <div class="preview-box">
          <img id="preview" hidden />
        </div>

        <button id="detectBtn">
          <i class="fas fa-trash"></i>
          Deteksi Sampah
        </button>
      </div>

      <!-- MODE KAMERA -->
      <div id="cameraMode" class="hidden">
        <div class="preview-box">
          <video id="webcam" autoplay playsinline></video>

          <canvas id="snapshot" hidden></canvas>
        </div>

        <button id="freezeBtn" class="freeze-btn">
          <i class="fas fa-camera"></i>
          Freeze & Ambil Gambar
        </button>

        <button id="saveImageBtn" class="btn secondary">
          üíæ Simpan Screenshot
        </button>

        <button id="exportPdfBtn" class="btn secondary">üìÑ Export PDF</button>
      </div>

      <button id="cameraBtn">
        <i class="fas fa-camera"></i>
        Kamera Realtime
      </button>

      <div id="result" class="result">‚ö†Ô∏è Silakan pilih mode</div>

      <p class="footer">
        <span>
          &copy;
          <a
            style="text-decoration: none; color: rgb(154, 161, 161)"
            href="https://robbyilham.com/"
            target="_blank"
            >robbyilham</a
          ></span
        >
      </p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script src="main.js"></script>
  </body>
</html>
